@using Trade_MVC6.Helpers
@using Trade_MVC6.Services
@inject IJsonSerializer Serializer
@model Trade_MVC6.ViewModels.Account.ProfileViewModel

<main class="row" ng-init="Ctrl.data = @Html.Raw(HtmlEncoder.HtmlEncode(await Serializer.StringifyAsync(Model)));
                           Ctrl.antiforgery = '@Html.Raw(Context.RequestVerificationToken())';
                           Ctrl.returnUrl = '@Html.Raw(ViewData["returnUrl"])'">
    <div class="col-md-offset-1 col-md-10 panel panel-default">
        <h1 class="panel-heading">Учетная запись</h1>
        <div class="form-horizontal panel-body" ng-cloak>
            <div class="form-group">
                <span class="text-center text-primary">Статус : {{Ctrl.access1C}}</span>
            </div>
            <div class="form-group">
                <label class="col-lg-2">Псевдоним</label>
                <div class="col-lg-10">
                    <input class="form-control" ng-model="Ctrl.data.Nickname" type="text" />
                </div>
            </div>

            <div class="form-group">
                <label class="col-lg-2">Компания</label>
                <div class="col-lg-10">
                    <input class="form-control" ng-model="Ctrl.data.CompanyName" type="text" />
                </div>
            </div>

            <div class="form-group">
                <div class="col-lg-offset-2 col-lg-10">
                    <button class="btn btn-warning">Изменить</button>
                </div>
                <div class="col-lg-offset-2 col-lg-10">
                    <label class="text-info">Изменение названия компании потребует повторной авторизации аккаунта администратором.</label>
                </div>
            </div>

            <div class="form-group">
                <label class="col-lg-2">Email</label>
                <div class="col-lg-10">
                    <input class="form-control" ng-model="Ctrl.data.Email" type="text" readonly />
                </div>
            </div>

            <div class="form-group">
                <div class="col-lg-offset-2 col-lg-10">
                    <button ng-if="Ctrl.data.EmailConfirmed" class="btn btn-primary">Изменить</button>
                    <button ng-if="!Ctrl.data.EmailConfirmed" class="btn btn-primary">Выслать подтверждение</button>
                </div>
            </div>

            <div class="form-group">
                <label class="col-lg-2">Имя</label>
                <div class="col-lg-10">
                    <input class="form-control" ng-model="Ctrl.data.Contact.Name" type="text" />
                </div>
            </div>

            <div class="form-group">
                <label class="col-lg-2">Фамилия</label>
                <div class="col-lg-10">
                    <input class="form-control" ng-model="Ctrl.data.Contact.Surname" type="text" />
                </div>
            </div>

            <div class="form-group">
                <label class="col-lg-2">Телефон</label>
                <div class="col-lg-10">
                    <input class="form-control" ng-model="Ctrl.data.Contact.ContactPhone" type="text" />
                </div>
            </div>

            <div class="form-group">
                <label class="col-lg-2">Skype</label>
                <div class="col-lg-10">
                    <input class="form-control" ng-model="Ctrl.data.Contact.SkypeId" type="text" />
                </div>
            </div>

            <div class="form-group">
                <label class="col-lg-2">ICQ</label>
                <div class="col-lg-10">
                    <input class="form-control" ng-model="Ctrl.data.Contact.IcqId" type="text" />
                </div>
            </div>

            <div class="form-group">
                <button class="btn btn-primary">Сохранить</button>
                <button class="btn btn-warning" ng-click="Ctrl.cancel()">Отмена</button>
                <button class="btn btn-default" ng-click="Ctrl.debug()">Debug</button>
            </div>

        </div>
    </div>
</main>